{"version":3,"sources":["pages/tab1.tsx","pages/tab2.tsx","store.ts","App.tsx","reportWebVitals.ts","GlobalStyle.tsx","index.tsx"],"names":["Tab1","assistant","size","Button","text","view","onClick","sendData","action","action_id","parameters","tab","Tab2","contentRight","file","reducer","state","type","currentTab","App","memo","useReducer","appState","dispatch","assistantStateRef","useRef","assistantRef","useEffect","getState","current","createAssistant","on","navigation","command","window","scrollTo","scrollY","console","log","className","Tabs","stretch","pilled","scaleOnPress","outlined","disabled","key","isActive","tabIndex","contentLeft","onFocus","onBlur","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","DocumentStyle","createGlobalStyle","background","gradient","ThemeStyle","darkSber","GlobalStyle","ReactDOM","render","Device","document","getElementById"],"mappings":"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","file":"static/js/main.d0ca2700.chunk.js","sourcesContent":["import React from 'react';\nimport { Button } from '@sberdevices/plasma-ui/components/Button/Button';\nimport { Container, Row, Col }  from '@sberdevices/plasma-ui';\n\nexport const Tab1 = (assistant: any) => {\n    const click = () => () => {\n        assistant.sendData({ action: { action_id: 'CLICK' } });\n    };\n\n    const click2 = () => () => {\n        assistant.sendData({ action: { action_id: 'SELECT', parameters: { tab: 1 } } });\n    };\n\n    return (\n        <Container>\n            <Row>\n                <Col size={4}>\n                    <Button text=\"Текст\" view=\"primary\" size=\"s\" onClick={click()} />\n                </Col>\n                <Col size={4}>\n                    <Button text=\"Переключить вкладку через бэк\" view=\"primary\" size=\"s\" onClick={click2()} />\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n","import React from 'react';\nimport { Button } from '@sberdevices/plasma-ui/components/Button/Button';\nimport { IconDownload } from '@sberdevices/plasma-icons';\n\nexport const Tab2 = (assistant: any) => {\n    const click = () => () => {\n        assistant.sendData({ action: { action_id: 'DOWNLOAD', parameters: { file: 'text.txt' } } });\n    };\n    return (\n        <Button text=\"Скачать\" view=\"primary\" contentRight={<IconDownload />} size=\"s\" onClick={click()} />\n    )\n}\n","type State = {\n    currentTab: number;\n};\n\ntype Action =\n    | {\n          type: 'START';\n      }\n    | {\n          type: 'SELECT';\n          tab: number;\n      };\n\nexport const reducer = (state: State, action: Action) => {\n    switch (action.type) {\n        case 'START':\n            return {\n                ...state,\n            };\n\n        case 'SELECT':\n            return {\n                ...state,\n                currentTab: action.tab\n            };\n\n        default:\n            return {...state}\n    }\n};\n","import React, { FC, memo, useReducer, useState, useRef, useEffect } from 'react';\nimport { createSmartappDebugger, createAssistant, AssistantAppState } from '@sberdevices/assistant-client';\nimport { Tabs, TabItem } from '@sberdevices/plasma-ui/components/Tabs/Tabs';\nimport { Container, Row, Col }  from '@sberdevices/plasma-ui';\nimport './App.css';\nimport { Tab1 } from './pages/tab1';\nimport { Tab2 } from './pages/tab2';\nimport { reducer } from './store';\n\nconst initializeAssistant = (getState: any) => {\n    if (process.env.NODE_ENV === 'development' && window.Cypress == null) {\n        return createSmartappDebugger({\n            token: process.env.REACT_APP_TOKEN ?? '',\n            initPhrase: `Запусти ${process.env.REACT_APP_SMARTAPP}`,\n            getState,\n        });\n    }\n\n    return createAssistant({ getState });\n};\n\nexport const App: FC = memo(() => {\n    const [appState, dispatch] = useReducer(reducer, {\n        currentTab: 0\n    });\n\n    const assistantStateRef = useRef<AssistantAppState>();\n    const assistantRef = useRef<ReturnType<typeof createAssistant>>();\n\n    useEffect(() => {\n        assistantRef.current = initializeAssistant(() => assistantStateRef.current);\n\n        assistantRef.current.on('data', ({ navigation, action }: any) => {\n            if (navigation) {\n                switch (navigation.command) {\n                    case 'UP':\n                        window.scrollTo(0, window.scrollY - 500);\n                        break;\n                    case 'DOWN':\n                        window.scrollTo(0, window.scrollY + 500);\n                        break;\n                }\n            }\n\n            console.log('action', action);\n            if (action) {\n                dispatch(action);\n            }\n        });\n    }, []);\n\n    const action = (text:any) => () => {\n        console.log(text);\n    }\n\n    return (\n        <main className=\"app\">\n            <Tabs\n                size='l'\n                view='secondary'\n                stretch={true}\n                pilled={false}\n                scaleOnPress={true}\n                outlined={false}\n                disabled={false}\n            >\n                <TabItem\n                    key={`item0`}\n                    isActive={appState.currentTab === 0}\n                    tabIndex={0}\n                    contentLeft={true}\n                    onClick={() => dispatch({type: 'SELECT', tab: 0})}\n                    onFocus={action(`onFocus item #${0}`)}\n                    onBlur={action(`onBlur item #${0}`)}\n                >\n                    Таб 1\n                </TabItem>\n                <TabItem\n                    key={`item1`}\n                    isActive={appState.currentTab === 1}\n                    tabIndex={1}\n                    contentLeft={true}\n                    onClick={() => dispatch({type: 'SELECT', tab: 1})}\n                    onFocus={action(`onFocus item #${1}`)}\n                    onBlur={action(`onBlur item #${1}`)}\n                >\n                    Таб 2\n                </TabItem>\n            </Tabs>\n            <Container>\n                <Row>\n                    <Col size={4}>\n                        {appState.currentTab === 0 ? <Tab1 {...assistantRef.current} /> : null}\n                        {appState.currentTab === 1 ? <Tab2 {...assistantRef.current} /> : null}\n                    </Col>\n                </Row>\n            </Container>\n        </main>\n    );\n});\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { createGlobalStyle } from 'styled-components';\nimport { darkSber } from '@sberdevices/plasma-tokens/themes'; // Или один из списка: darkEva, darkJoy, lightEva, lightJoy, lightSber\nimport {\n    text, // Цвет текста\n    background, // Цвет подложки\n    gradient, // Градиент\n} from '@sberdevices/plasma-tokens';\n\nconst DocumentStyle = createGlobalStyle`\n    html:root {\n        min-height: 100vh;\n        color: ${text};\n        background-color: ${background};\n        background-image: ${gradient};\n    }\n`;\nconst ThemeStyle = createGlobalStyle(darkSber);\nexport const GlobalStyle = () => (\n    <>\n        <DocumentStyle />\n        <ThemeStyle />\n    </>\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { DeviceThemeProvider } from '@sberdevices/plasma-ui/components/Device';\nimport { GlobalStyle } from './GlobalStyle';\n\nReactDOM.render(\n    <DeviceThemeProvider>\n        <GlobalStyle />\n        <App />\n    </DeviceThemeProvider>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}